@model ML.Cita
@{
    ViewBag.Title = "Form";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>CITA</h2>

<div class="container">
    <div class="row">
        <div class="col-md-12">

            @using (Html.BeginForm("Form", "Cita", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                <div class="form-horizontal">
                    <div class="form-group">
                        <div class="col-md-3">
                            @Html.LabelFor(model => model.Id_Cita, new { @class = "d-none" })
                            @Html.TextBoxFor(model => model.Id_Cita, new { @class = "d-none" })
                            @Html.ValidationMessageFor(model => model.Id_Cita)

                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-3">
                            @Html.LabelFor(model => model.FechaCita)
                            @Html.TextBoxFor(model => model.FechaCita, new { @class = " form-control", @id = "txtFechaCita" })
                            @Html.ValidationMessageFor(model => model.FechaCita)
                            @Html.Label("", null, new { @id = "lblFecha" })

                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-3">


                            @Html.LabelFor(model => model.HoraCita)
                            @Html.TextBoxFor(model => model.HoraCita, new { @class = "form-control", @id = "time" })
                            @Html.ValidationMessageFor(model => model.HoraCita)
                            @Html.Label("", null, new { @id = "lblHora" })
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-3">
                            @Html.LabelFor(model => model.Doctor.Id_Doctor)
                            @Html.DropDownListFor(model => model.Doctor.Id_Doctor, new SelectList(Model.Doctor.Doctores, "Id_Doctor", "NombreCompleto"), "Selecciona el Nombre del Doctor", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Doctor.Id_Doctor)
                        </div>
                    </div>



                    <div class="form-group">
                        <div class="col-md-3">
                            @Html.LabelFor(model => model.Paciente.Id_Paciente)
                            @Html.DropDownListFor(model => model.Paciente.Id_Paciente, new SelectList(Model.Paciente.Pacientes, "Id_Paciente", "NombreCompleto"), "Selecciona el Nombre del Paciente", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.Paciente.Id_Paciente)
                        </div>
                    </div>





                    <div class="form-group">

                        <div class="col-md-3">

                            <input type="submit" value="Guardar" class="btn btn-success" />

                            <a href="@Url.Action("Index", "Home")">
                                <i class="bi bi-arrow-return-left"></i>
                            </a>

                        </div>

                    </div>



                </div>

            }

        </div>

    </div>

</div>
@section Scripts
{



    <script src="~/lib/jquery/dist/jquery.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>



    @*CALENDARIO*@

    <script type="text/javascript">
        $(function () {
            $("#txtFechaCita").datepicker({
                dateFormat: 'dd-mm-yy',
                changeMonth: true,
                changeYear: true,
                yearRange: "2023:2023"
            });
        });
    </script>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>


    <script type="text/javascript">


        $('#time').timepicker({
            timeFormat: '	h:mm p',
            interval: 60,
            minTime: '10',
            maxTime: '6:00pm',
            defaultTime: '10',
            startTime: '10:00',
            dynamic: false,
            dropdown: true,
            scrollbar: true
        });



    </script>   



}